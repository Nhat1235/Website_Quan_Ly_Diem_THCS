<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!--Import jQuery before export.js-->
<script type="text/javascript"
	src="https://code.jquery.com/jquery-3.5.1.js"></script>


<!--Data Table-->
<link
	href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css"
	rel="stylesheet" />
<link
	href="https://cdn.datatables.net/buttons/1.5.1/css/buttons.dataTables.min.css"
	rel="stylesheet" />

<script
	src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script
	src="https://cdn.datatables.net/buttons/1.2.2/js/dataTables.buttons.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js"></script>
<script
	src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js"></script>
<script
	src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js"></script>

<script
	src="https://cdn.datatables.net/buttons/1.2.2/js/buttons.html5.min.js"></script>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>

</head>
<style>
.banner {
	width: 100%;
	height: 250px;
}

.dangxuat {
	float: right;
	display: inline-block;
	margin-top: 20px;
	margin-bottom: 20px;
	background-color: red;
	color: white;
	border-radius: 20px/20px;
	width: 100px;
	height: 40px;
}

.text-quanly {
	display: inline-block;
	margin-top: 20px;
	margin-bottom: 20px;
}

.main {
	width: 90%;
	margin: 0 auto;
}

.danhsach {
	height: 30px;
	margin-top: 20px;
	margin-bottom: 20px;
}

.nut {
	width: 100px;
	border-radius: 20px/20px;
	height: 30px;
}

.sua {
	background-color: teal;
	color: white;
}

.capnhat {
	background-color: blue;
	color: white;
}
</style>
<body>
	<div>
		<header class="main">
			<h2 class="text-quanly">Quản lý điểm học sinh</h2>
			<a th:href="@{/logout}" class="dangxuat btn btn-danger">Đăng xuất</a>
		</header>
	</div>

	<div>
		<img class="banner" th:src="@{~/image/banner.jpg}" alt="">
	</div>

	<div class="main">
		<br>
		<!-- Modal -->
		<div class="modal-body">
			<!-- <form th:action="@{/GVBM/UploadExcel}" method="post" enctype="multipart/form-data">
      <label for="myfile">Select a file:</label> 
      <input type="file" id="myfile" name="myfile"> -->
			<!--  <br>
      <input type="submit" value="Submit Excel File">
      </form> -->
			<!-- <a th:text="${idM}"></a> -->
			<div th:each="hsllist:${hsllist}">
			<a class="btn btn-success" href="/GV/uploadOneFile">Upload Excel</a>
			<a class="btn btn-primary"
				th:href="@{/GV/SampleFile/{idMon}/{tenlop} (idMon=${idM} , tenlop=${hsllist.idLopc.tenlop})}">Sample Excel</a>
			<br> <br>
			
			Bảng điểm lớp: <span th:text="*{hsllist.idLopc.tenlop}"></span>
			</div>
			<br>
			<table id="table1" class="display table table-striped table-bordered dt-responsive nowrap" style="width: 100%">
				<thead>
					<tr>
						<th>Họ và Tên</th>
					    <th th:each="diemlist:${diemlist}" th:text="*{diemlist.IDDauDiem.loaiDauDiem}"></th> 
					    
						<!-- <th>Miệng</th>
						<th>Miệng</th>
						<th>Miệng</th>
						<th>Miệng</th>
						<th>15 phút</th>
						<th>15 phút</th>
						<th>15 phút</th>
						<th>1 tiết</th>
						<th>1 tiết</th>
						<th>Học kỳ</th> -->

					</tr>
				</thead>
				<tbody>

					<tr th:each="hsllist:${hsllist}">
						<td th:text="*{hsllist.idhs.tenhocsinh}"></td>

                         
						<td th:each="diemlist:${diemlist}"><p th:text="${diemlist.diem} ?: ' '"></p></td>
                        
						<!-- <td><a class="btn btn-success" data-toggle="tooltip" data-placement="top" title="Thêm điểm">+</a></td> -->
					</tr>

				</tbody>
				<tfoot>

				</tfoot>
			</table>

		</div>
	</div>
</body>
<script>
	$(document).ready(function() {

		$('#table1').DataTable({

			dom : 'Bfrtip',
			buttons : [ {
				extend : 'excelHtml5',
				title : 'Excel',
				text : 'In ra Excel',
				className : 'btn btn-primary',
			/*  customize: function(xlsx) {
			     var sheet = xlsx.xl.worksheets['sheet1.xml'];
			     var col = $('col', sheet);
			     var width_details = [];
			     $('tr:nth-child(1) > td').each(function(){
			     width_details.push($(this).width()); });
			     var q = 0;
			     col.each(function () {
			     $(this).attr('width', width_details[q]);
			     q++; });
			}, */
			//Columns to export
			//exportOptions: {
			//     columns: [0, 1, 2, 3,4,5,6]
			// }

			},

			//{
			//extend: 'pdfHtml5',
			//title: 'PDF',
			//text: 'Export to PDF'
			//Columns to export
			//exportOptions: {
			//     columns: [0, 1, 2, 3, 4, 5, 6]
			//  }
			//}
			]
		});

	});
</script>
</html>

